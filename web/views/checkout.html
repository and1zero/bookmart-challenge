{% extends "base.html" %}

{% block content %}
<div class="page-header">
    <h2>Checkout <small>Item Summary</small></h2>
</div>
{% if app.session.get('cart') %}
<table class="table">
    <thead>
        <tr>
            <th>Item</th>
            <th>Quantity</th>
            <th>Price</th>
        </tr>
    </thead>
    <tbody>
        {% for id,quantity in app.session.get('cart') if id != 'total'%}
        <tr>
            <td>{{books[id]['name']}}</td>
            <td>{{quantity}}</td>
            <td>$ {{books[id]['price']*quantity}}</td>
        </tr>
        {% endfor %}
        <tr>
            <td colspan="2" style="font-weight:bold;">Total</td>
            <td>$ {{ app.session.get('cart')['total'] }}</td>
        </tr>
    </tbody>
</table>
<div class="pull-right">
    <form action="#" method="POST">
        <a href="/books">Add more?</a>
        <button type="submit" class="btn btn-lg btn-primary">Checkout</button>
    </form>
</div>
{% else %}
<p>No item in your cart</p>
<p><a href="/books">Click here</a> to start exploring!</p>
{% endif %}
{% endblock %}
